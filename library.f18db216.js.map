{"mappings":"8sBAAA,IAAAA,EAAAC,EAAA,S,uCAIAC,EAAAC,GAASC,OAAOC,KAAK,CACnBC,MAAO,QACPC,SAAU,aACVC,SAAU,OACVC,QAAS,IAGX,IAAMC,EAAiBC,SAASC,cAAc,mBACxCC,EAAWF,SAASC,cAAc,eAEjC,SAASE,IACdJ,EAAeK,UAAUC,IAAI,aAE7BH,EAASI,UAAY,GAErB,IAAMC,EAAeC,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,oBACjDN,IACF,EAAAlB,EAAAyB,SAAeP,EAAaQ,MAAM,EAAG,IAAK,WACxB,IAAI,EAAAC,EAAAF,SAAgB,KAAMP,EAAaU,QAC/CC,WAAWC,GAAG,YAAaC,IAErC7B,EAAAC,GAASC,OAAO4B,QAAQ,iC,CAM5B,SAASD,EAAaE,GACpB,IAAMC,EAAcD,EAAME,KACpBjB,EAAeC,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,oBACvCb,SAASC,cAAc,eAC/BK,UAAY,GAClB,IAAMmB,EAAclB,EAAaQ,MACjB,GAAdQ,EAAmB,GACL,GAAdA,IAEF,EAAAlC,EAAAyB,SAAeW,E,CAXjB1B,EAAe2B,iBAAiB,QAASvB,E","sources":["src/js/library_watched.js"],"sourcesContent":["import renderFilmCard from './renderCard';\nimport { watchedKeyStorage } from './watched-list';\nimport FilmsPagination from './pagination';\nimport Notiflix from 'notiflix';\nNotiflix.Notify.init({\n  width: '280px',\n  position: 'center-top',\n  distance: '10px',\n  opacity: 1,\n});\n\nconst watchedListBtn = document.querySelector('.watched-btn-js');\nconst filmList = document.querySelector('.film__list');\n\nexport function loadWatchedFilms() {\n  watchedListBtn.classList.add('active-js');\n\n  filmList.innerHTML = '';\n\n  const watchedFilms = JSON.parse(localStorage.getItem(watchedKeyStorage));\n  if (watchedFilms) {\n    renderFilmCard(watchedFilms.slice(0, 20), 'watched');\n    const paginator = new FilmsPagination(null, watchedFilms.length);\n    paginator.pagination.on('afterMove', paginatePage);\n  } else {\n    Notiflix.Notify.failure('No films in your watched list!');\n  }\n}\n\nwatchedListBtn.addEventListener('click', loadWatchedFilms);\n\nfunction paginatePage(event) {\n  const currentPage = event.page;\n  const watchedFilms = JSON.parse(localStorage.getItem(watchedKeyStorage));\n  const films = document.querySelector('.film__list');\n  films.innerHTML = '';\n  const films_array = watchedFilms.slice(\n    currentPage * 20 - 20,\n    currentPage * 20\n  );\n  renderFilmCard(films_array);\n}\n"],"names":["$5I0aQ","parcelRequire","$parcel$interopDefault","$iU1Pc","Notify","init","width","position","distance","opacity","$bc4c2ec5408d44e5$var$watchedListBtn","document","querySelector","$bc4c2ec5408d44e5$var$filmList","$bc4c2ec5408d44e5$export$42e9f394f610b60b","classList","add","innerHTML","watchedFilms","JSON","parse","localStorage","getItem","$1fiGW","watchedKeyStorage","default","slice","$jcFG7","length","pagination","on","$bc4c2ec5408d44e5$var$paginatePage","failure","event","currentPage","page","films_array","addEventListener"],"version":3,"file":"library.f18db216.js.map"}