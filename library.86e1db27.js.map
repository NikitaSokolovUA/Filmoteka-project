{"mappings":"qtBAAA,IAAAA,EAAAC,EAAA,S,oDAKAC,EAAAC,GAASC,OAAOC,KAAK,CACnBC,MAAO,QACPC,SAAU,aACVC,SAAU,OACVC,QAAS,IAGX,IAAMC,EAAiBC,SAASC,cAAc,mBACxCC,EAAWF,SAASC,cAAc,eAEjC,SAASE,IACdJ,EAAeK,UAAUC,IAAI,aAE7BH,EAASI,UAAY,GAErB,IAAMC,EAAeC,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,oBACrD,KAAIN,GAAgBA,EAAaO,OAAS,GAQxC,OAFAZ,EAASI,WAAY,EAAAS,EAAAC,gBACrBzB,EAAAC,GAASC,OAAOwB,QAAQ,mCANxB,EAAA5B,EAAA2B,SAAeT,EAAaW,MAAM,EAAG,KAEnB,IAAI,EAAAC,EAAAH,SAAgB,KAAMT,EAAaO,QAC/CM,WAAWC,GAAG,YAAaC,E,CAUzC,SAASA,EAAaC,GACpB,IAAMC,EAAcD,EAAME,KACpBlB,EAAeC,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,oBACvCb,SAASC,cAAc,eAC/BK,UAAY,GAClB,IAAMoB,EAAcnB,EAAaW,MACjB,GAAdM,EAAmB,GACL,GAAdA,IAEF,EAAAnC,EAAA2B,SAAeU,E,CAXjB3B,EAAe4B,iBAAiB,QAASxB,E,sCCjC1B,SAAAyB,IACb,MAAQ,8I","sources":["src/js/library_watched.js","src/templates/renderNotification.js"],"sourcesContent":["import renderFilmCard from './renderCard';\nimport renderNotification from '../templates/renderNotification';\nimport { watchedKeyStorage } from './watched-list';\nimport FilmsPagination from './pagination';\nimport Notiflix from 'notiflix';\nNotiflix.Notify.init({\n  width: '280px',\n  position: 'center-top',\n  distance: '10px',\n  opacity: 1,\n});\n\nconst watchedListBtn = document.querySelector('.watched-btn-js');\nconst filmList = document.querySelector('.film__list');\n\nexport function loadWatchedFilms() {\n  watchedListBtn.classList.add('active-js');\n\n  filmList.innerHTML = '';\n\n  const watchedFilms = JSON.parse(localStorage.getItem(watchedKeyStorage));\n  if (watchedFilms && watchedFilms.length > 0) {\n    renderFilmCard(watchedFilms.slice(0, 20));\n\n    const paginator = new FilmsPagination(null, watchedFilms.length);\n    paginator.pagination.on('afterMove', paginatePage);\n  } else {\n    filmList.innerHTML = renderNotification();\n    Notiflix.Notify.failure('No films in your watched list!');\n    return\n  }\n}\n\nwatchedListBtn.addEventListener('click', loadWatchedFilms);\n\nfunction paginatePage(event) {\n  const currentPage = event.page;\n  const watchedFilms = JSON.parse(localStorage.getItem(watchedKeyStorage));\n  const films = document.querySelector('.film__list');\n  films.innerHTML = '';\n  const films_array = watchedFilms.slice(\n    currentPage * 20 - 20,\n    currentPage * 20\n  );\n  renderFilmCard(films_array);\n}\n\n","export default function renderNotification() {\n  return `<li class='list'>\n  <p class=\"notification\">\n    You haven't looked anything yet. Add movies to watch and let's enjoy! :)\n  </p>\n</li>`\n}"],"names":["$5I0aQ","parcelRequire","$parcel$interopDefault","$iU1Pc","Notify","init","width","position","distance","opacity","$bc4c2ec5408d44e5$var$watchedListBtn","document","querySelector","$bc4c2ec5408d44e5$var$filmList","$bc4c2ec5408d44e5$export$42e9f394f610b60b","classList","add","innerHTML","watchedFilms","JSON","parse","localStorage","getItem","$1fiGW","watchedKeyStorage","length","$eDfTE","default","failure","slice","$jcFG7","pagination","on","$bc4c2ec5408d44e5$var$paginatePage","event","currentPage","page","films_array","addEventListener","$aa7109f614cd89b4$export$2e2bcd8739ae039"],"version":3,"file":"library.86e1db27.js.map"}